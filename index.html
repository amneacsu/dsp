<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="./style.css" />
</head>
<body>
  <script type="module">
    const audioContext = new window.AudioContext();

    import ElementSource from './src/source/ElementSource.js';
    import AudioSink from './src/sink/AudioSink.js';
    import BarVisualizerSink from './src/sink/BarVisualizerSink.js';
    import WaveVisualizerSink from './src/sink/WaveVisualizerSink.js';
    import LapseVisualizerSink from './src/sink/LapseVisualizerSink.js';
    import SpectrogramVisualizerSink from './src/sink/SpectrogramVisualizerSink.js';
    import SpectrumVisualizerSink from './src/sink/SpectrumVisualizerSink.js';

    const audioSource = new ElementSource(audioContext, {
      // src: './data/easy-street.opus',
      src: './data/bee-moved.flac',
      loop: true,
    });

    const audioSink = new AudioSink(audioContext);
    audioSource.connect(audioSink);

    const vsink1 = new BarVisualizerSink(audioContext);
    audioSource.connect(vsink1);

    const vsink2 = new WaveVisualizerSink(audioContext);
    audioSource.connect(vsink2);

    const vsink3 = new LapseVisualizerSink(audioContext);
    audioSource.connect(vsink3);

    const vsink4 = new SpectrogramVisualizerSink(audioContext);
    audioSource.connect(vsink4);

    const vsink5 = new SpectrumVisualizerSink(audioContext);
    audioSource.connect(vsink5);
  </script>
</body>
</html>
